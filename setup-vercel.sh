#!/bin/bash
# ?? ?????? ????? Vercel ????????

echo "?? ????? Vercel ???????"
echo ""
echo "???????????????????????????????????????????????????????????????"
echo ""

# ?????? ?? ???? Vercel CLI ?????
if [ ! -d "node_modules/vercel" ]; then
    echo "?? ????? Vercel CLI ?????..."
    npm install
    echo "? ?? ???????"
else
    echo "? Vercel CLI ????? ??????"
fi

echo ""
echo "?? ????? ?????? ??? Vercel..."
npm run vercel:login

echo ""
echo "?? ??? ??????? ??? Vercel..."
npm run vercel:deploy

echo ""
echo "? ?? ????? ?????!"
echo ""
echo "?? ?????? ??? Project ID:"
npm run vercel:projects

echo ""
echo "???????????????????????????????????????????????????????????????"
echo "? ????? ???????!"
echo ""
echo "???? ??? ????? ??? Secrets ??? GitHub:"
echo "1. VERCEL_TOKEN"
echo "2. VERCEL_ORG_ID"
echo "3. VERCEL_PROJECT_ID"
echo ""
echo "??????: ./setup-github-secrets.sh ?????? ??? Secrets"
